generator client {
    provider = "prisma-client-js"
    previewFeatures = ["referentialIntegrity"]
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
    referentialIntegrity = "prisma"
}
model User {
    id          String          @id @default(cuid())
    ci          String          @unique
    name        String          @default("")
    password    String?
    phoneNumber String?
    plans       UserPlans[]
    access      AccessHistory[]
}
model Plan {
    id         String      @id @default(cuid())
    accessType String      @default("Ilimitado")
    name       String      @unique
    price      Int
    users      UserPlans[]
}

model UserPlans {
    id           String   @id @default(cuid())
    user         User     @relation(fields: [userId], references: [id])
    userId       String
    plan         Plan     @relation(fields: [planId],references: [id])
    planId       String
    startingDate DateTime
    endingDate   DateTime
}

model AccessHistory {
    id     String   @id @default(cuid())
    user   User     @relation(fields: [userId], references: [id])
    userId String
    date   DateTime
}